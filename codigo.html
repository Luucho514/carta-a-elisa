<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíå Carta para ti</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #ffd6e7;          /* rosa base */
      --ink: #2d1f22;         /* color de texto */
      --accent: #e91e63;      /* acento botones */
      --folio: #fffaf5;       /* color papel */
      --shadow: 0 18px 60px rgba(0,0,0,.18);
    }

    /* FONDO ROSADO con corazones y flores (sin enlaces externos) */
    body{
      margin:0; min-height:100dvh; display:grid; place-items:center; color:var(--ink);
      background-color: var(--bg);
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>
  <g opacity='0.32'>
    <path d='M16 10c0-3 3.6-4.5 5.7-2.4l.3.3.3-.3c2.1-2.1 5.7-.6 5.7 2.4 0 4.1-6 7.2-6 7.2S16 14.1 16 10z' fill='%23ff6996'/>
    <g transform='translate(40 40)'>
      <circle cx='0' cy='0' r='3' fill='%23ff9fc4'/>
      <circle cx='0' cy='-6' r='3' fill='%23ffd1e6'/>
      <circle cx='0' cy='6' r='3' fill='%23ffd1e6'/>
      <circle cx='6' cy='0' r='3' fill='%23ffd1e6'/>
      <circle cx='-6' cy='0' r='3' fill='%23ffd1e6'/>
    </g>
  </g>
</svg>");
      background-size: 64px 64px;
    }

    .wrap{ width:100%; max-width:1100px; padding:24px 14px; }

    /* PORTADA */
    .cover{ display:grid; gap:20px; place-items:center; text-align:center; }
    .envelope{
      width:min(360px, 80vw); height:220px; position:relative; border-radius:16px; box-shadow:var(--shadow);
      background:#fff; overflow:hidden;
    }
    .envelope::before{ content:""; position:absolute; inset:0 0 58% 0; background:linear-gradient(135deg,#ffe1ec,#ffd1e6); clip-path:polygon(0 0,100% 0,50% 100%,0 100%); }
    .envelope::after{ content:"‚ù§"; position:absolute; left:50%; top:54%; transform:translate(-50%,-50%); font-size:34px; opacity:.75; }
    .title{ font-family:"Playfair Display",serif; font-weight:700; font-size:clamp(22px,4vw,34px); margin:0; }
    .subtitle{ font-family:"Quicksand",sans-serif; margin:0; opacity:.85; }
    .open-btn{
      font-family:"Quicksand",sans-serif; font-weight:600; letter-spacing:.2px;
      background:var(--accent); color:white; border:0; border-radius:999px; padding:14px 26px; cursor:pointer;
      box-shadow:0 8px 20px rgba(233,30,99,.3); transition:transform .15s ease, filter .2s ease;
    }
    .open-btn:hover{ transform:translateY(-1px); filter:brightness(1.05); }

    /* FOLIO A4 */
    .folio-wrap{ display:none; place-items:center; }
    .folio{
      position:relative;
      width:min(760px, 90vw);              /* un poco m√°s estrecho para que el texto ocupe m√°s */
      aspect-ratio:210/297;                 /* proporci√≥n A4 */
      background:var(--folio); border-radius:18px; box-shadow:var(--shadow);
      padding:clamp(18px, 2.4vw, 28px);
      overflow:hidden;
    }

    .page{ display:none; height:100%; overflow:auto; padding-right:6px; }
    .page.active{ display:block; animation:fade .25s ease; }

    .paper-text{ font-family:"Playfair Display",serif; font-size:clamp(18px, 2.1vw, 22px); line-height:1.65; }

    @keyframes fade{ from{ opacity:0; transform:translateY(6px);} to{opacity:1; transform:none;} }

    /* BOTONES en esquinas inferiores */
    .nav-btn{ position:absolute; bottom:14px; font-family:"Quicksand",sans-serif; font-weight:600; border:0; cursor:pointer;
      background:#ffd1e6; color:#7a2b43; padding:10px 14px; border-radius:12px; box-shadow:0 6px 16px rgba(0,0,0,.15); }
    .prev{ left:14px; }
    .next{ right:14px; }

    /* Indicador centrado */
    .pager{ position:absolute; bottom:16px; left:50%; transform:translateX(-50%); font-family:"Quicksand",sans-serif; font-size:14px; opacity:.7; }

    /* P√°gina FINAL con foto */
    .final{ display:grid; place-items:center; gap:14px; height:100%; text-align:center; }
    .final img{ max-width:80%; max-height:62%; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.18); object-fit:cover; }
    .final p{ margin:0; font-family:"Playfair Display",serif; font-size:clamp(18px,2.1vw,22px); }

    /* Scrollbar sutil dentro del folio */
    .page::-webkit-scrollbar{ width:10px; }
    .page::-webkit-scrollbar-thumb{ background:#f0e3e8; border-radius:12px; }

    @media (max-height:600px){ .wrap{ padding:12px; } }
  </style>
</head>
<body>

  <div class="wrap">
    <!-- Portada -->
    <section class="cover" id="cover" aria-label="Portada de la carta">
      <div class="envelope" aria-hidden="true"></div>
      <div>
        <h1 class="title">Para ti, con todo mi amor</h1>
        <p class="subtitle">Una carta especial hecha con cari√±o üíñ</p>
      </div>
      <button class="open-btn" id="openBtn" aria-label="Abrir la carta">Abrir la carta</button>
    </section>

    <!-- Folio A4 con vi√±etas -->
    <section class="folio-wrap" id="folioWrap">
      <div class="folio" role="document" aria-label="Carta en formato folio">
        <article class="page paper-text active" data-i="0">
          <p>Gracias por todo querida m√≠a, gracias a ti volv√≠ a saber lo que era vivir, sentir esa conexi√≥n a trav√©s de tus ojos, como mi d√≠a a d√≠a se resum√≠a en escuchar tus locuras y re√≠rme con tus gracias.</p>
        </article>

        <article class="page paper-text" data-i="1">
          <p>Cada sonrisa tonta que me sacabas de mi boca era el mejor regalo que me pod√≠as dar. Te llevaste mi alma, como barco que atraviesa el horizonte, esos ojos oscuros con su brillo sacados de las cientos de estrellas que surcan el cielo.</p>
        </article>

        <article class="page paper-text" data-i="2">
          <p>Te llevaste mi ser con cada beso y a√∫n sigo esperando cientos de ellos. Rezo porque estas palabras no sean de despedida, pero si aun as√≠ fuera, solo espero de ti que sonr√≠as como si respirases, y que si no soy yo, que fuese la suerte quien te acompa√±e.</p>
        </article>

        <article class="page paper-text final" data-i="3">
          <!-- Reemplaza la ruta por tu archivo real en el repo -->
          <img src="assets/foto-final.jpg" alt="Nuestra foto" />
          <p>Tan solo espero poder estar en tus recuerdos, porque mi coraz√≥n te lo quedaste en el primer beso.</p>
        </article>

        <!-- Controles -->
        <button class="nav-btn prev" id="prevBtn" aria-label="P√°gina anterior">‚Üê Anterior</button>
        <div class="pager" id="pager">1 / 4</div>
        <button class="nav-btn next" id="nextBtn" aria-label="P√°gina siguiente">Siguiente ‚Üí</button>
      </div>
    </section>
  </div>

  <!-- M√∫sica (se inicia tras hacer clic en Abrir) -->
  <audio id="bgm" loop>
    <!-- A√±ade tu archivo con derechos en esta ruta del repo -->
    <source src="assets/back-to-be-friends.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Referencias
    const cover = document.getElementById('cover');
    const folioWrap = document.getElementById('folioWrap');
    const openBtn = document.getElementById('openBtn');
    const pages = Array.from(document.querySelectorAll('.page'));
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pager = document.getElementById('pager');
    const bgm = document.getElementById('bgm');

    let i = 0; // p√°gina actual

    function update(){
      pages.forEach((p,idx)=> p.classList.toggle('active', idx===i));
      pager.textContent = `${i+1} / ${pages.length}`;
      prevBtn.style.visibility = i===0 ? 'hidden' : 'visible';
      nextBtn.textContent = i===pages.length-1 ? 'Final' : 'Siguiente ‚Üí';
      nextBtn.setAttribute('aria-label', i===pages.length-1 ? 'Final' : 'P√°gina siguiente');
    }

    function next(){ if(i < pages.length-1){ i++; update(); } }
    function prev(){ if(i > 0){ i--; update(); } }

    // Abrir carta: muestra folio y reproduce m√∫sica
    openBtn.addEventListener('click', async ()=>{
      cover.style.display = 'none';
      folioWrap.style.display = 'grid';
      update();
      try{ await bgm.play(); }catch(e){ /* si el navegador bloquea, no hacemos nada */ }
    });

    nextBtn.addEventListener('click', next);
    prevBtn.addEventListener('click', prev);

    // Navegaci√≥n con teclado
    window.addEventListener('keydown', (e)=>{
      if(folioWrap.style.display !== 'grid') return;
      if(e.key === 'ArrowRight') next();
      if(e.key === 'ArrowLeft') prev();
    });
  </script>
</body>
</html>
